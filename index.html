<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Data Structures</title>
    <style>
        /* Apply basic table styling */
        table {
            border-collapse: collapse;
            width: 100%;
            max-width: 600px;
            /* Adjust as needed */
            margin: 0 auto;
            /* Center the table on the page */
        }

        /* Style the table headers */
        th {
            background-color: #f2f2f2;
            /* Light gray background */
            text-align: left;
            padding: 8px;
            border: 1px solid #ccc;
        }

        /* Style the table data cells */
        td {
            text-align: left;
            padding: 8px;
            border: 1px solid #ccc;
        }

        /* Add alternating row background color for better readability */
        tr:nth-child(even) {
            background-color: #f9f9f9;
        }

        /* Hover effect for rows */
        tr:hover {
            background-color: #e0e0e0;
        }

        .hidden {
            display: none;
        }

        button {
            background-color: #264e70;
            color: #ffffff;
            border: none;
            border-radius: 5px;
            padding: 10px;
            cursor: pointer;
            transition: transform 300ms;
            display: block;
            margin: auto;
            margin-bottom: 2rem;
            padding: 1rem;
            font-size: 2.5rem;
        }

        button:hover {

            transform: scale(0.92);
        }
    </style>
</head>
<body>
    <button onclick="dataStruc()">Order Burgers</button>


    <table id="tableOutput" class="hidden">
        <thead>
            <tr>
                <th>Customer</th>
                <th>Burger Count</th>
            </tr>
        <tbody id="tableBody">

        </tbody>
        </thead>


    </table>


    <script>
        class order {
            constructor() {
                this.burger_count = this.randomBurgers();
            }
            randomBurgers() {
                return Math.floor(Math.random() * 20) + 1;
            }
        }

        class person {
            constructor() {
                this.customer_name = this.randomName();
            }
            randomName() {
                let asCustomers = ["Jefe", "El Guapo", "Lucky Day", "Ned Nederlander",
                    "Dusty Bottoms", "Harry Flugleman", "Carmen", "Invisible Swordsman", "Singing Bush"]
                return asCustomers[Math.floor(Math.random() * asCustomers.length)];
            }
        }

        class customer extends person {
            constructor() {
                super();
                this.order = new order();
            }
        }
        function dataStruc() {
            let line = [];
            let CustomerOrders = [];
            let outputNames = '';
            let outputOrders = '';


            let tableBodyOG = document.getElementById("tableBody");

            // Remove all rows within the <tbody>
            while (tableBodyOG.firstChild) {
                tableBodyOG.removeChild(tableBodyOG.firstChild);
            }

            for (let iCount = 0; iCount < 100; iCount++) {
                line.push(new customer());

            }

            CustomerOrders.push([line[0].customer_name, line[0].order.burger_count]);

            for (let iCount = 0; iCount < line.length; iCount++) {
                let bNew = true;
                for (let iOrder = 0; iOrder < CustomerOrders.length; iOrder++) {
                    if (line[iCount].customer_name === CustomerOrders[iOrder][0]) {
                        CustomerOrders[iOrder][1] += line[iCount].order.burger_count;
                        bNew = false;
                        break;
                    }

                }
                if (bNew === true) CustomerOrders.push([line[iCount].customer_name, line[iCount].order.burger_count]);
            }

            CustomerOrders.sort((iBurgers1, iBurgers2) => {
                return iBurgers2[1] - iBurgers1[1]
            })

            for (let iOrder = 0; iOrder < CustomerOrders.length; iOrder++) {
                outputNames = outputNames + CustomerOrders[iOrder][0] + '<br> <br>'
                outputOrders = outputOrders + CustomerOrders[iOrder][1] + '<br> <br>'
            }

            let tableBody = document.querySelector('#tableOutput tbody');

            // Loop through the data array
            CustomerOrders.forEach(item => {
                // Create a new table row
                let newRow = document.createElement('tr');

                // Create and populate table data cells for each property in the data
                let nameCell = document.createElement('td');
                nameCell.textContent = item[0];
                let orderCell = document.createElement('td');
                orderCell.textContent = item[1];

                // Append the data cells to the new row
                newRow.appendChild(nameCell);
                newRow.appendChild(orderCell);

                // Append the new row to the table's <tbody>
                tableBody.appendChild(newRow);
            });

            document.getElementById('tableOutput').classList.remove('hidden');

        }
    </script>
</body>
</html>